業務マニュアル作成ツール

Github:
https://github.com/jin276/business-manual.git

■プロジェクト概要
以前の勤務先で経験した業務マニュアルの一元管理・更新システムのテスト環境開発の経験を活かし、ゼロから開発したWebアプリケーションです。
業務効率化と属人化防止を目的とし、CRUD処理と堅牢なログイン機能を実装しました。
※PHPとSQLの基礎力を固めるため、フレームワーク（Laravel、 Next.js等）は使用していません。

■開発環境
OS: macOS
仮想環境: Docker
Webサーバー: Apache
言語/技術: PHP 8.4, SQL, JavaScript, HTML5, CSS
データベース: MySQL (MySQL Workbench)

■主な機能と実装詳細
・サーバーサイド (PHP/SQL)
CRUD機能: 業務マニュアルの作成、一覧表示、編集、削除
データベース: テーブル設計と外部キーによるリレーションシップ構築
セキュリティ:
ログイン機能: パスワードのハッシュ化、サーバーサイドでのバリデーション、ログイン保持
SQLインジェクション対策: プリペアドステートメントの使用
XSS対策: htmlspecialcharsによるエスケープ処理
その他: エラーハンドリング（try-catch文）、ユーザー入力値の保持機能（hiddenフィールド、session）

・クライアントサイド (JavaScript/HTML/CSS)
UI/UX: モーダルウィンドウによる確認画面、JavaScriptによるフォーム入力チェック

■課題と解決策
1. 環境構築時の不具合
課題:
PHPファイルがブラウザに表示されない問題に直面しました。
ローカル環境に直接インストールしたHomebrew版Apacheの設定を変更しても解決せず、
原因究明に時間を要しました。

原因: 作成しているツールがDockerコンテナ内で動作していたため、ホストOS（macOS）上のApacheの設定が影響しなかったこと。
さらに、DockerのymlファイルとDockerfileの記述にミスがあり、PHPが正しく動作していませんでした。

解決: Dockerのコンテナの役割と設定ファイルの記述方法を根本から見直し、
正しいポートマッピングとファイルマウントを再設定しました。
この経験を通じて、ホストOSとコンテナの環境の違いを深く理解することができました。

2. JavaScriptイベントの発火不良
課題:
データの論理削除を行う際、addEventListenerで設定したはずのモーダルウィンドウが、
特定の条件で表示されない不具合が発生しました。

原因: 
データベースから抽出したデータを代入する変数と、POST送信で受け取ったデータを代入する変数で、
変数名が重複していたため、意図しない値で上書きされていたことが判明しました。

解決: 
変数名を区別し、命名規則を統一することでコードの可読性を高め、問題を防ぎました。

3. フォーム入力値の保持問題
課題:
ユーザーが入力した値をフォーム間で保持する際、入力内容が消えてしまう不具合に直面しました。

原因: 
データベースのidカラムに設定すべきauto incrementが外れており、予期せぬ動作を引き起こしていました。
try-catch文を使っていましたが、エラー内容をechoで出力していなかったため、デバッグに時間を要しました。

解決: 
idカラムにauto incrementを再設定し、try-catch文でecho $e->getMessage()を
用いてエラーメッセージを明示的に表示するよう改善しました。
これにより、今後のデバッグを効率化する習慣が身につきました。

■今後の展望
現時点でもツールとして機能しますが、以下の点を改善することで、より実用性と保守性の高いアプリケーションにできると考えています。

・セキュリティの強化: 
ログイン認証やフォーム入力時のバリデーションをさらに強化し、より堅牢なシステムを目指します。

・コードの最適化:
誰もが理解しやすく、修正しやすいコードを目指し、リファクタリングを継続します。
使用頻度の高い関数はクラスにまとめるなど、オブジェクト指向の概念を取り入れ、コード管理を効率化します。

・フレームワークの活用:
今回は基礎固めのためフレームワークを使用しませんでしたが、今後はLaravelなどのモダンなフレームワークを習得し、
より効率的かつ安全な開発手法を身につけたいと考えています。
これにより、クライアントの多様な要望に応え、技術者としての価値を高めていきます。
